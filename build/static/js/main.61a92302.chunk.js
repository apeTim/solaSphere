(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,c){},126:function(e,t,c){"use strict";(function(e){var n=c(5),a=c(6),s=c(3),r=c.n(s),i=c(1),l=c(91),o=c(21),u=c.n(o),j=c(20),d=c(13),b=c(77),O=(c(209),c(45),c(210),c(16)),m=c(18),p=c(60),h=c.n(p),f=c(75),x=c(28),v=c(2),g=Uint8Array.from(e.from("Login to the Degen Games")),N=new d.a("https://ssc-dao.genesysgo.net/","confirmed"),y=new d.d("Degend6MwnmmXx1uiFPp9UqURUN95BZxUYKLUHZnqUHq");t.a=function(){var e=Object(l.b)(),t=Object(i.useState)(!1),c=Object(a.a)(t,2),s=c[0],o=c[1],p=Object(i.useState)(!1),w=Object(a.a)(p,2),_=w[0],S=w[1],A=Object(i.useState)(!1),E=Object(a.a)(A,2),k=E[0],L=E[1],C=Object(i.useState)(!1),K=Object(a.a)(C,2),D=K[0],M=K[1],T=Object(i.useState)(0),P=Object(a.a)(T,2),G=P[0],U=P[1],B=Object(i.useState)("none"),R=Object(a.a)(B,2),W=R[0],I=R[1],F=Object(i.useState)(!1),H=Object(a.a)(F,2),Y=H[0],z=H[1],J=Object(i.useState)(0),q=Object(a.a)(J,2),Z=q[0],V=q[1],X=Object(i.useState)(0),Q=Object(a.a)(X,2),$=Q[0],ee=Q[1],te=Object(i.useState)("0"),ce=Object(a.a)(te,2),ne=ce[0],ae=ce[1],se=Object(i.useState)("none"),re=Object(a.a)(se,2),ie=re[0],le=re[1],oe=Object(i.useState)(0),ue=Object(a.a)(oe,2),je=ue[0],de=ue[1],be=Object(i.useState)(null),Oe=Object(a.a)(be,2),me=Oe[0],pe=Oe[1],he=Object(j.b)(),fe=Object(j.c)((function(e){return e.user})),xe=Object(j.c)((function(e){return e.associatedKeypair})),ve=Object(j.c)((function(e){return e.sockets})),ge=function(){var t=Object(n.a)(r.a.mark((function t(c){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log({wallet:e}),he({type:"LOAD_WALLET",payload:e}),he({type:"LOAD_USER",payload:c}),we(c),Ne(),t.abrupt("return",S(!0));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ne=function(){var e=Object(n.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/u/associatedKeypair",{withCredentials:!0});case 2:t=e.sent.data,c=d.b.fromSecretKey(Uint8Array.from(t.secretKey)),he({type:"LOAD_ASSOCIATED_KEYPAIR",payload:c});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(n.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.getBalance(xe.publicKey));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(e){ve&&ve.user&&(ve.user.emit("subscribeToProfile",e._id),ve.user.on("balanceChange",(function(e,t){he({type:"UPDATE_USER_BALANCE",payload:e}),t&&I("validated")})))},_e=function(){var t=Object(n.a)(r.a.mark((function t(){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.publicKey&&G){t.next=2;break}return t.abrupt("return");case 2:if(!(G<.01*d.c)){t.next=4;break}return t.abrupt("return",m.b.error("Minimum deposit amount is 0.01"));case 4:return t.prev=4,c=(new d.f).add(d.e.transfer({fromPubkey:e.publicKey,toPubkey:y,lamports:G})),t.next=8,e.sendTransaction(c,N);case 8:console.log({transaction:c}),I("sent"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),m.b.error(t.t0.response.data.message.toString()),I("failed");case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}(),Se=function(){var t=Object(n.a)(r.a.mark((function t(){var c,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.publicKey){t.next=2;break}return t.abrupt("return");case 2:return le("withdrawing"),t.next=5,N.getBalance(xe.publicKey);case 5:return c=t.sent,(n=(new d.f).add(d.e.transfer({fromPubkey:xe.publicKey,toPubkey:new d.d(fe.publicKey),lamports:c}))).feePayer=new d.d(fe.publicKey),t.next=10,e.sendTransaction(n,N,{signers:[xe]});case 10:ee(c),le("withdrawn");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ae=function(){var t=Object(n.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.publicKey&&Z){t.next=2;break}return t.abrupt("return");case 2:if(!(Z<.01*d.c)){t.next=4;break}return t.abrupt("return",m.b.error("Minimum withdraw is 0.01 SOLs"));case 4:if(!(Z>fe.balance)){t.next=6;break}return t.abrupt("return",m.b.error("Balance needs to be higher than the withdraw amount"));case 6:return t.prev=6,le("withdrawing"),de(Z),t.next=11,u.a.post("/api/u/requestWithdraw",{amount:Z});case 11:N.onAccountChange(xe.publicKey,(function(e,t){e.lamports>=Z&&Se()})),Se(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),m.b.error(t.t0.response.data.message.toString());case 18:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(){return t.apply(this,arguments)}}(),Ee=function(){var e=Object(n.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:(t=e.sent)>.01?(de(t),le("hasPending")):le("none"),z(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var t=function(){var e=Object(n.a)(r.a.mark((function e(t){var c,n,a,i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&t.signMessage&&t.publicKey&&!s){e.next=3;break}return e.abrupt("return");case 3:return o(!0),e.next=6,u.a.get("/api/auth/state");case 6:if(c=e.sent.data,n=c.authenticated,a=c.user,console.log({authenticated:n}),!n){e.next=18;break}if(a.publicKey!==t.publicKey.toBase58()){e.next=15;break}return e.next=14,ge(a);case 14:return e.abrupt("return");case 15:return console.log("PUBLIC KEYS ARE NOT THE SAME!"),e.next=18,u.a.get("/api/auth/logout");case 18:return i=t.publicKey.toBytes(),e.next=21,t.signMessage(g);case 21:return l=e.sent,e.next=24,u.a.post("/api/auth/login",{publicKey:Array.from(i),signedMessage:Array.from(l)},{withCredentials:!0});case 24:return a=e.sent.data,e.next=27,ge(a);case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),m.b.error(e.t0.response.data.message.toString()),console.log(e.t0);case 33:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}();t(e)}),[e]),Object(i.useEffect)((function(){fe&&(null!=me&&(console.log("Balance Update!",fe.balance-me),fe.balance-me>=0?ae("1"):ae("-1")),pe(fe.balance))}),[null===fe||void 0===fe?void 0:fe.balance]),Object(v.jsxs)("div",{className:"Navbar",children:[Object(v.jsxs)("div",{className:"navbar",children:[Object(v.jsxs)("div",{className:"left",children:[Object(v.jsx)(O.b,{to:"/",className:"logo",children:Object(v.jsx)("img",{src:"/logo.png"})}),Object(v.jsx)("div",{className:"navLinks",children:Object(v.jsx)(O.c,{to:"/rps",className:function(e){return e.isActive?"activeNavLink":"inactiveNavLink"},children:Object(v.jsx)("p",{className:"title",children:"Rock Paper Scissors"})})})]}),fe?Object(v.jsxs)("div",{onClick:function(){return M(!D)},className:D?"toggleMenu open":"toggleMenu",children:[Object(v.jsx)("span",{}),Object(v.jsx)("span",{}),Object(v.jsx)("span",{})]}):null,_&&fe?Object(v.jsxs)("div",{className:"user",children:[Object(v.jsx)("div",{className:"balance",children:Object(v.jsxs)("h4",{"data-balancechanged":ne,onAnimationEnd:function(){return ae("0")},className:"amount",children:[Number(((null===fe||void 0===fe?void 0:fe.balance)/d.c).toFixed(5))," SOL"]})}),Object(v.jsx)("button",{onClick:function(){L(!0),I("none")},className:"depositB",children:"Deposit"}),Object(v.jsx)("button",{onClick:function(){return Ee()},className:"withdrawB",children:"Withdraw"}),Object(v.jsx)(O.b,{to:"/u/".concat(fe.publicKey.toString()),className:"profile",children:Object(v.jsx)("h4",{className:"name",children:Object(x.a)(fe.publicKey.toString())})})]}):Object(v.jsx)("div",{className:"multiButton",children:Object(v.jsx)(b.b,{})})]}),Object(v.jsxs)("div",{className:"modal",style:{display:k?"flex":"none"},children:[Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"wrapper",children:[Object(v.jsx)("button",{className:"closeB",onClick:function(){return L(!1)},children:Object(v.jsx)("svg",{width:"14",height:"14",children:Object(v.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(v.jsx)("h1",{className:"title",children:"Deposit"}),"none"===W?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"number",value:null===G?"":G/d.c,onChange:function(e){return function(e){if(!e)return U(null);console.log({input:e}),Number(e)>=0?U(Number(e)*d.c):U(0)}(e.target.value)}}),Object(v.jsx)("button",{className:"actionB modalB",onClick:function(){return _e()},children:"Deposit"})]}):"sent"===W?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("h3",{className:"status",children:["Validating ",Object(v.jsx)(h.a,{size:13,color:"#443f89"})]})}):"validated"===W?Object(v.jsx)("h3",{className:"status",children:"Succesfully validated"}):Object(v.jsx)("h3",{className:"status",children:"Failed"})]})}),Object(v.jsx)("div",{className:"overlay"})]}),Object(v.jsxs)("div",{className:"modal",style:{display:Y?"flex":"none"},children:[Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"wrapper",children:[Object(v.jsx)("button",{className:"closeB",onClick:function(){return z(!1)},children:Object(v.jsx)("svg",{width:"14",height:"14",children:Object(v.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(v.jsx)("h1",{className:"title",children:"Withdraw"}),"none"===ie?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"number",value:null===Z?"":Z/d.c,onChange:function(e){return function(e){if(!e)return V(null);console.log({input:e}),Number(e)>=0?V(Number(e)*d.c):V(0)}(e.target.value)}}),Object(v.jsx)("button",{className:"actionB modalB",onClick:function(){return Ae()},children:"Withdraw"})]}):"hasPending"===ie||"withdrawing"===ie?Object(v.jsxs)("div",{className:"pending",children:[Object(v.jsxs)("h2",{children:["Pending: ",je/d.c," SOL"]}),Object(v.jsxs)("button",{className:"actionB",disabled:"withdrawing"===ie,onClick:function(){return Se()},children:[Object(v.jsx)("span",{className:"withdrawLabel",children:"Withdraw"})," ","withdrawing"===ie?Object(v.jsx)(h.a,{size:13,color:"#27244f"}):null]})]}):"withdrawn"===ie?Object(v.jsxs)("h2",{children:["Succesfully withdrawn ",$?$/d.c:null]}):Object(v.jsx)("h3",{className:"status",children:"Failed"})]})}),Object(v.jsx)("div",{className:"overlay"})]}),Object(v.jsxs)("div",{style:{display:D?"flex":"none"},className:"menu",children:[fe?Object(v.jsxs)("div",{className:"navLinks",children:[Object(v.jsxs)(O.c,{onClick:function(){return L(!0)},to:"",className:"activeNavLink navLink",children:[Object(v.jsx)("img",{className:"icon",src:"/img/deposit.png"}),Object(v.jsx)("p",{className:"title",children:"Deposit"})]}),Object(v.jsxs)(O.c,{onClick:function(){return z(!0)},to:"",className:"activeNavLink navLink",children:[Object(v.jsx)("img",{className:"icon",src:"/img/withdraw.png"}),Object(v.jsx)("p",{className:"title",children:"Withdraw"})]})]}):null,Object(v.jsx)(f.a,{})]})]})}}).call(this,c(10).Buffer)},137:function(e,t,c){},139:function(e,t){},143:function(e,t){},154:function(e,t){},165:function(e,t){},166:function(e,t){},187:function(e,t,c){},209:function(e,t,c){},210:function(e,t,c){},211:function(e,t,c){},221:function(e,t,c){},231:function(e,t,c){},232:function(e,t,c){},233:function(e,t,c){},234:function(e,t,c){},235:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(41),s=c.n(a),r=(c(137),c(248)),i=c(244),l=c(131),o=c(245),u=c(246),j=c(247),d=c(77),b=c(13),O=(c(185),c(81)),m=c(18),p=(c(186),c(187),c(126)),h=c(5),f=c(6),x=c(3),v=c.n(x),g=c(91),N=c(21),y=c.n(N),w=c(20),_=(c(89),c(46),c(45),c(9)),S=c(76),A=c(17),E=c(80),k=c(16),L=c(28),C=function(e){return e.username||Object(L.a)(e.publicKey)},K=(c(220),c(2));var D=function(e){var t,c,a=Object(n.useState)(),s=Object(f.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)(0),o=Object(f.a)(l,2),u=o[0],j=o[1],d=Object(n.useState)(!1),O=Object(f.a)(d,2),p=O[0],x=O[1],N=Object(g.b)(),L=Object(w.b)(),D=Object(w.c)((function(e){return e.user})),M=Object(E.a)("/sound/join.mp3",{volume:.25}),T=(Object(f.a)(M,1)[0],Object(E.a)("/sound/win.mp3",{volume:.25})),P=(Object(f.a)(T,1)[0],Object(E.a)("/sound/loss.mp3",{volume:.25}));Object(f.a)(P,1)[0],Object(n.useEffect)((function(){i(e.game)}),[e.game]);var G=function(e){var t,c;r&&(r.status!==e&&(i(Object(_.a)(Object(_.a)({},r),{},{status:e})),"revealed"===e&&(r.winner&&(null===(t=r.winner)||void 0===t?void 0:t._id)===D._id?L({type:"UPDATE_USER_BALANCE",payload:2*r.amount}):!r.winner&&[r.creator._id,null===(c=r.opponent)||void 0===c?void 0:c._id].includes(D._id)&&L({type:"UPDATE_USER_BALANCE",payload:r.amount}),setTimeout((function(){r.status="removed",L({type:"UPDATE_GAME",payload:r})}),2500))))},U=function(){var e=Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&N.publicKey&&r){e.next=2;break}return e.abrupt("return");case 2:if(D._id!==r.creator._id){e.next=4;break}return e.abrupt("return",m.b.error("You can not join your game"));case 4:if(!(D.balance<r.amount)){e.next=6;break}return e.abrupt("return",m.b.error("Balance needs to be higher than the game bet"));case 6:return e.prev=6,e.next=9,y.a.post("/api/game/join",{gameId:r._id,move:u});case 9:m.b.success("Joined the game"),x(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),m.b.error(e.t0.response.data.message.toString());case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&N.publicKey&&r){e.next=2;break}return e.abrupt("return");case 2:if(r.creator._id===D._id){e.next=4;break}return e.abrupt("return",m.b.error("You can not cancel another person`s game"));case 4:return e.prev=4,e.next=7,y.a.post("/api/game/cancel",{gameId:r._id});case 7:m.b.success("Game has been cancelled"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),m.b.error(e.t0.response.data.message.toString());case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(K.Fragment,{children:[r&&"removed"!==r.status?Object(K.jsxs)("div",{className:"gameWrapper",children:[Object(K.jsxs)("div",{className:"players",children:[Object(K.jsx)("div",{className:"playerWrapper",children:"revealed"===r.status?Object(K.jsxs)("div",{className:(null===(t=r.winner)||void 0===t?void 0:t._id)==r.creator._id?"player winner":"player loser",children:[Object(K.jsx)(A.a,{className:"move flip",src:"./img/move".concat(r.creatorMove,".svg")}),Object(K.jsx)(k.b,{to:"/u/".concat(r.creator.publicKey),className:"address",children:C(r.creator)})]}):"flipping"===r.status?Object(K.jsxs)("div",{className:"player",children:[Object(K.jsx)("div",{className:"flip",children:Object(K.jsx)(A.a,{onAnimationEndCapture:function(){return G("revealed")},className:"move animate__animated animate__bounce",src:"./img/move0.svg"})}),Object(K.jsx)(k.b,{to:"/u/".concat(r.creator.publicKey),className:"address",children:C(r.creator)})]}):Object(K.jsxs)("div",{className:"player",children:[Object(K.jsx)(A.a,{className:"move flip",src:"./img/move0.svg"}),Object(K.jsx)(k.b,{to:"/u/".concat(r.creator.publicKey),className:"address",children:C(r.creator)})]})}),Object(K.jsx)("div",{className:"middle",children:"countdown"===r.status?Object(K.jsx)(S.a,{date:r.countDownEnd,onComplete:function(){return G("flipping")},renderer:function(e){return Object(K.jsx)("h3",{children:e.seconds})}}):Object(K.jsx)("h3",{className:"vsTag",children:"VS"})}),Object(K.jsx)("div",{className:"playerWrapper",children:r.opponent?"revealed"===r.status?Object(K.jsxs)("div",{className:(null===(c=r.winner)||void 0===c?void 0:c._id)==r.opponent._id?"player winner":"player loser",children:[Object(K.jsx)(A.a,{className:"move",src:"./img/move".concat(r.opponentMove,".svg")}),Object(K.jsx)(k.b,{to:"/u/".concat(r.opponent.publicKey),className:"address",children:C(r.opponent)})]}):"flipping"===r.status?Object(K.jsxs)("div",{className:"player",children:[Object(K.jsx)(A.a,{className:"move animate__animated animate__bounce",src:"./img/move0.svg"}),Object(K.jsx)(k.b,{to:"/u/".concat(r.opponent.publicKey),className:"address",children:C(r.opponent)})]}):Object(K.jsxs)("div",{className:"player",children:[Object(K.jsx)(A.a,{className:"move",src:"./img/move0.svg"}),Object(K.jsx)(k.b,{to:"/u/".concat(r.opponent.publicKey),className:"address",children:C(r.opponent)})]}):D&&r.creator._id!==D._id?Object(K.jsxs)("div",{className:"player join",children:[Object(K.jsx)("button",{onClick:function(){return x(!0)},className:"actionB",children:"Join"})," "]}):Object(K.jsxs)("div",{className:"player",children:[Object(K.jsx)(A.a,{className:"movePlaceholder",src:"/img/movePlaceholder.svg"}),Object(K.jsx)("h3",{className:"address",children:"waiting..."})]})})]}),Object(K.jsxs)("div",{className:"info",children:[Object(K.jsx)("div",{className:"bet",children:Object(K.jsxs)("h3",{children:[r.amount/b.c," SOL"]})}),!r.opponent&&D?r.creator._id===D._id?Object(K.jsx)("button",{className:"deleteB",onClick:function(){return B()},children:Object(K.jsx)(A.a,{src:"/img/bin.svg"})}):null:Object(K.jsx)(K.Fragment,{})]})]},r._id):null,Object(K.jsxs)("div",{className:"modal",style:{display:p?"flex":"none"},children:[Object(K.jsx)("div",{className:"container",children:Object(K.jsxs)("div",{className:"wrapper",children:[Object(K.jsx)("button",{className:"closeB",onClick:function(){return x(!1)},children:Object(K.jsx)("svg",{width:"14",height:"14",children:Object(K.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(K.jsx)("h1",{className:"title",children:"Join Game"}),Object(K.jsxs)("div",{className:"coinChooser",children:[Object(K.jsx)(A.a,{onClick:function(){return j(0)},className:0===u?"chosen":"",src:"./img/move0.svg"}),Object(K.jsx)(A.a,{onClick:function(){return j(1)},className:1===u?"chosen":"",src:"./img/move1.svg"}),Object(K.jsx)(A.a,{onClick:function(){return j(2)},className:2===u?"chosen":"",src:"./img/move2.svg"})]}),Object(K.jsx)("button",{className:"actionB modalB",onClick:function(){return U()},children:"Join"})]})}),Object(K.jsx)("div",{className:"overlay"})]})]})},M=c(60),T=c.n(M),P=["active","joined","countdown","flipping"],G=[.05,.1,.25,.5,1,2];var U=function(){var e=Object(g.b)(),t=Object(n.useState)([]),c=Object(f.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),i=Object(f.a)(r,2),l=i[0],o=i[1],u=Object(n.useState)(!1),j=Object(f.a)(u,2),d=j[0],O=j[1],p=Object(n.useState)(!1),x=Object(f.a)(p,2),N=x[0],_=x[1],S=Object(n.useState)(.05),E=Object(f.a)(S,2),k=E[0],L=E[1],C=Object(n.useState)(0),M=Object(f.a)(C,2),U=M[0],B=M[1],R=Object(w.b)(),W=Object(w.c)((function(e){return e.user})),I=Object(w.c)((function(e){return e.games})),F=Object(w.c)((function(e){return e.sockets})),H=function(){var t=Object(h.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.publicKey&&k&&!N){t.next=2;break}return t.abrupt("return");case 2:if(_(!0),!(W.balance<k)){t.next=5;break}return t.abrupt("return",m.b.error("Balance needs to be higher than the game bet"));case 5:return t.prev=5,t.next=8,y.a.post("/api/game",{amount:k*b.c,creatorMove:U});case 8:m.b.success("Game created"),O(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),m.b.error(t.t0.response.data.message.toString());case 15:_(!1);case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(){return t.apply(this,arguments)}}(),Y=function(e){e.status="ended",R({type:"UPDATE_GAME",payload:e})};return Object(n.useEffect)((function(){var e=function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/game/allActive");case 2:t=e.sent,R({type:"LOAD_GAMES",payload:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){F.game&&(F.game.on("newGame",(function(e){return R({type:"ADD_GAME",payload:e})})),F.game.on("gameUpdate",(function(e){R({type:"UPDATE_GAME",payload:e})})))}),[F.game]),Object(n.useEffect)((function(){var e=[],t=[];I.forEach((function(c){"removed"!==c.status&&"cancelled"!==c.status&&(c.creator._id===(null===W||void 0===W?void 0:W._id)||c.opponent&&c.opponent._id===(null===W||void 0===W?void 0:W._id)?e.push(c):t.push(c))})),s(e),o(t)}),[W,I]),Object(K.jsxs)("div",{className:"Page ActiveGames",children:[Object(K.jsx)("h1",{className:"gameTitle",children:"Rock Paper Scissors"}),Object(K.jsxs)("div",{className:"typeWrapper",children:[Object(K.jsxs)("div",{className:"type",children:[Object(K.jsx)("h2",{className:"typeHeader",children:"My Games"}),Object(K.jsx)("h2",{className:"gamesCounter",children:a.length})]}),W?Object(K.jsx)("button",{className:"createGameB",onClick:function(){return O(!0)},children:"NEW GAME +"}):null]}),a.length>0?Object(K.jsx)("div",{className:"box games",children:a.map((function(e){return P.includes(e.status)?Object(K.jsx)(D,{game:e,removeGame:Y},e._id):null}))}):Object(K.jsx)("div",{className:"box typePlaceHolder",children:Object(K.jsx)("p",{children:"Your games will appear here"})}),Object(K.jsxs)("div",{className:"type",children:[Object(K.jsx)("h2",{className:"typeHeader",children:"Open Games"}),Object(K.jsx)("h2",{className:"gamesCounter",children:l.length})]}),l.length>0?Object(K.jsx)("div",{className:"box games",children:l.map((function(e){return P.includes(e.status)?Object(K.jsx)(D,{game:e,removeGame:Y},e._id):null}))}):Object(K.jsx)("div",{className:"box typePlaceHolder",children:Object(K.jsx)("p",{children:"No open games at the moment"})}),Object(K.jsxs)("div",{className:"modal",style:{display:d?"flex":"none"},children:[Object(K.jsx)("div",{className:"container",children:Object(K.jsxs)("div",{className:"wrapper",children:[Object(K.jsx)("button",{className:"closeB",onClick:function(){return O(!1)},children:Object(K.jsx)("svg",{width:"14",height:"14",children:Object(K.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(K.jsx)("h1",{className:"title",children:"Create Game"}),Object(K.jsx)("h3",{className:"subtitle",children:"Choose Move"}),Object(K.jsxs)("div",{className:"coinChooser",children:[Object(K.jsx)(A.a,{onClick:function(){return B(0)},className:0===U?"chosen flip":"flip",src:"./img/move0.svg"}),Object(K.jsx)(A.a,{onClick:function(){return B(1)},className:1===U?"chosen flip":"flip",src:"./img/move1.svg"}),Object(K.jsx)(A.a,{onClick:function(){return B(2)},className:2===U?"chosen flip":"flip",src:"./img/move2.svg"})]}),Object(K.jsx)("h3",{className:"subtitle",children:"Choose Amount"}),Object(K.jsx)("div",{className:"amounts",children:G.map((function(e){return Object(K.jsx)("div",{className:k===e?"amountChosen":"amount",onClick:function(){return L(e)},children:e})}))}),Object(K.jsxs)("button",{className:"actionB modalB",disabled:N,onClick:function(){return H()},children:[N?"Creating...":"Create"," ",N?Object(K.jsx)(T.a,{size:13,color:"#27244f"}):null]})]})}),Object(K.jsx)("div",{className:"overlay"})]})]})},B=c(14),R=(c(117),c(221),c(129)),W=c.n(R);var I=function(e){return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("table",{className:"UserGames",children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:"Date"}),Object(K.jsx)("th",{children:"Bet"}),Object(K.jsx)("th",{children:"Move"}),Object(K.jsx)("th",{children:"Opponent"}),Object(K.jsx)("th",{children:"Opponent Move"}),Object(K.jsx)("th",{children:"Win Amount"})]})}),Object(K.jsx)("tbody",{children:e.games.map((function(t,c){if("ended"===t.status&&t.opponent){var n=t.creator._id===e.user._id?t.creatorMove:t.opponentMove,a=t.creator._id===e.user._id?t.opponent:t.creator,s=t.creator._id===e.user._id?t.opponentMove:t.creatorMove,r=t.winner?t.winner._id===e.user._id?2*t.amount/b.c:-t.amount/b.c:0;return Object(K.jsxs)("tr",{className:"game",children:[Object(K.jsx)("td",{className:"date",children:W()(t.updatedAt).format("MMM DD, h:mm A")}),Object(K.jsxs)("td",{children:[t.amount/b.c," SOL"]}),Object(K.jsx)("td",{className:"move flip",children:Object(K.jsx)(A.a,{src:"/img/move".concat(n,".svg")})}),Object(K.jsx)("td",{children:Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(a.publicKey),children:Object(L.a)(null===a||void 0===a?void 0:a.publicKey)})}),Object(K.jsx)("td",{className:"move",children:Object(K.jsx)(A.a,{src:"/img/move".concat(s,".svg")})}),Object(K.jsx)("td",{children:Object(K.jsxs)("span",{className:0===r?"":r>0?"win":"lose",children:[r," SOL"]})})]},c)}}))})]})})};var F=function(){var e=Object(B.h)().publicKey,t=Object(n.useState)(),c=Object(f.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),i=Object(f.a)(r,2),l=i[0],o=i[1],u=Object(n.useState)(!1),j=Object(f.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(0),m=Object(f.a)(O,2),p=m[0],x=m[1],g=Object(n.useState)(0),N=Object(f.a)(g,2),w=N[0],_=N[1],S=function(){var e=Object(h.a)(v.a.mark((function e(t){var c,n,a,r,i,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y.a.get("/api/u/".concat(t)),y.a.get("/api/game/u/".concat(t))]);case 2:c=e.sent,n=Object(f.a)(c,2),a=n[0],r=n[1],i=[a.data,r.data],u=i[1],(l=i[0])||b(!0),s(l),o(u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s(void 0),e&&S(e)}),[e]),Object(n.useEffect)((function(){if(l&&a){var e=0,t=0;l.forEach((function(c){"ended"===c.status&&c.winner&&(c.winner._id===a._id?e++:t++)})),x(e),_(t)}}),[a,l]),Object(K.jsx)("div",{className:"Page Profile",children:a?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{className:"box profileBox",children:[Object(K.jsx)("img",{className:"avatar",src:"/img/masterchip.png"}),Object(K.jsxs)("div",{className:"rightInfo",children:[Object(K.jsx)("div",{className:"address",children:Object(K.jsx)("h2",{className:"publicKey",children:a.publicKey})}),Object(K.jsxs)("div",{className:"gameStats",children:[Object(K.jsxs)("div",{className:"gameStat",children:[Object(K.jsx)("h2",{className:"counter",children:p}),Object(K.jsx)("h2",{className:"tag",children:"Won"})]}),Object(K.jsx)("div",{className:"statSeparator",children:"/"}),Object(K.jsxs)("div",{className:"gameStat",children:[Object(K.jsx)("h2",{className:"counter",children:w}),Object(K.jsx)("h2",{className:"tag",children:"Lost"})]})]})]})]}),Object(K.jsx)(I,{user:a,games:l})]}):d?Object(K.jsx)("h1",{children:"User was not found"}):Object(K.jsx)("h1",{children:"Loading user..."})})};var H=function(){var e=Object(B.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},Y=c(90),z=c(130);var J=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(0),r=Object(f.a)(s,2),i=r[0],l=r[1],o=Object(n.useState)(0),u=Object(f.a)(o,2),j=u[0],d=u[1],b=Object(n.useState)(),O=Object(f.a)(b,2),p=O[0],x=O[1],g=Object(n.useState)({username:""}),N=Object(f.a)(g,2),S=N[0],E=N[1],k=Object(n.useState)(!1),L=Object(f.a)(k,2),C=L[0],D=L[1],M=Object(w.b)(),T=Object(w.c)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.publicKey})),P=function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/api/u/editUser",S);case 3:t=e.sent.data,console.log({newUser:t}),x((function(e){return t})),M({type:"LOAD_USER",payload:p}),m.b.success("Profile has been updated"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),m.b.error(e.t0.response.data.message.toString());case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(T){var e=function(){var e=Object(h.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/u/".concat(T));case 2:return t=e.sent.data,e.next=5,y.a.get("/api/game/u/".concat(T));case 5:c=e.sent.data,E({username:t.username||""}),x(t),a(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[T]),Object(n.useEffect)((function(){if(c&&p){var e=0,t=0;c.forEach((function(c){"ended"===c.status&&c.winner&&(c.winner._id===p._id?e++:t++)})),l(e),d(t)}}),[p,c]),Object(K.jsxs)(K.Fragment,{children:[p?Object(K.jsxs)("div",{className:"Page Profile",children:[Object(K.jsxs)("div",{className:"profileBox",children:[Object(K.jsxs)("div",{className:"leftInfo",children:[Object(K.jsx)(A.a,{className:"avatar",src:Object(Y.createAvatar)(z,{seed:p.publicKey.toString()})}),Object(K.jsx)("button",{onClick:function(){return D(!0)},className:"editB",children:"Edit Profile"})]}),Object(K.jsxs)("div",{className:"rightInfo",children:[p.username?Object(K.jsx)("div",{className:"username",children:Object(K.jsx)("h1",{className:"value",children:p.username})}):null,Object(K.jsxs)("div",{className:"address",children:[Object(K.jsx)("h2",{className:"value",children:p.publicKey}),Object(K.jsx)("a",{className:"scanLink",target:"_blank",rel:"noopener noreferrer",href:"https://solscan.io/account/".concat(p.publicKey.toString()),children:Object(K.jsx)("img",{src:"/img/solscan.png"})})]}),Object(K.jsxs)("div",{className:"gameStats",children:[Object(K.jsxs)("div",{className:"gameStat",children:[Object(K.jsx)("h2",{children:"Games Won:"}),Object(K.jsx)("h2",{children:i})]}),Object(K.jsx)("div",{className:"statCircle",style:{backgroundImage:c.length>0?"linear-gradient(#1C1D25, #1C1D25), linear-gradient( 45deg, rgba(37, 185, 0, 0.85), rgba(37, 185, 0, 0.85) ".concat(i/(i+j)*100,"%, rgba(185, 37, 0, 0.85) ").concat(j/(i+j)*100,"% )"):"linear-gradient(#1c1d25, #1c1d25), linear-gradient( 45deg, gray, gray 100% )"}}),Object(K.jsxs)("div",{className:"gameStat",children:[Object(K.jsx)("h2",{children:"Games Lost:"}),Object(K.jsx)("h2",{children:j})]})]})]})]}),c.length>0?Object(K.jsx)(I,{user:p,games:c}):null]}):null,Object(K.jsxs)("div",{className:"modal",style:{display:C?"flex":"none"},children:[Object(K.jsx)("div",{className:"container",children:Object(K.jsxs)("div",{className:"wrapper",children:[Object(K.jsx)("button",{className:"closeB",onClick:function(){return D(!1)},children:Object(K.jsx)("svg",{width:"14",height:"14",children:Object(K.jsx)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})})}),Object(K.jsx)("div",{className:"logo",children:Object(K.jsx)("img",{alt:"logo",src:"/logo.png"})}),Object(K.jsx)("h1",{className:"title",children:"Edit Profile"}),Object(K.jsx)("div",{className:"fields",children:Object(K.jsx)("input",{value:S.username,onInput:function(e){return E((function(t){return Object(_.a)(Object(_.a)({},t),{},{username:e.target.value})}))},placeholder:"username"})}),Object(K.jsx)("button",{onClick:function(){return P()},className:"modalB",children:"Save"})]})}),Object(K.jsx)("div",{className:"overlay"})]})]})},q=c(22),Z=c(96);c(231);var V=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(""),c=Object(f.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),i=Object(f.a)(r,2),l=i[0],o=i[1],u=Object(w.b)(),j=Object(w.c)((function(e){return e.user})),d=Object(w.c)((function(e){return e.sockets})),b=function(){var e=Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=2;break}return e.abrupt("return",m.b.error("Message can not be empty"));case 2:return e.prev=2,e.next=5,y.a.post("/api/message",{content:a});case 5:u({type:"UPDATE_USER_LAST_MESSAGE_AT"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),m.b.error(e.t0.response.data.message.toString());case 11:s("");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){e.current&&(e.current.scrollTop=e.current.scrollHeight)},p=function(e){var t=e.split(" ").map((function(e){return e.trim()}));s(t.join(" "))};return Object(n.useEffect)((function(){var e=function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/message/last");case 2:t=e.sent.data,console.log({messages:t}),o(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),O()}),[]),Object(n.useEffect)((function(){O()}),[l]),Object(n.useEffect)((function(){d.message&&d.message.on("newMessage",(function(e){o((function(t){return[e].concat(Object(q.a)(t))}))}))}),[d]),Object(K.jsx)("div",{className:"Chat box",children:Object(K.jsxs)("div",{className:"chat",children:[Object(K.jsx)("h2",{className:"chatHeader",children:"Live Chat"}),Object(K.jsx)("div",{ref:e,className:"messages",children:l.map((function(e){return Object(K.jsxs)("div",{className:"message",children:[Object(K.jsxs)("div",{className:"sender",children:[Object(K.jsx)("img",{className:"avatar",src:"/img/masterchip.png"}),Object(K.jsx)(k.b,{to:"/u/".concat(e.creator.publicKey),className:"address profileLink",children:C(e.creator)})]}),Object(K.jsx)("div",{className:"content",children:Object(K.jsx)("p",{className:"text",children:e.content})})]},e._id)})).reverse()}),Object(K.jsx)("div",{className:"inputMessage",children:j?Date.now()-j.lastMessageAt>3e3?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Z.a,{onChange:function(e){return p(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?b():null},value:a,placeholder:"Type Message..."}),Object(K.jsx)("button",{onClick:function(){return b()},className:"sendMsgB",children:Object(K.jsx)(A.a,{src:"/img/send.svg"})})]}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Z.a,{onChange:function(e){return p(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&Date.now()-j.lastMessageAt>3e3?b():null},value:a,placeholder:"Type Message..."}),Object(K.jsx)(S.a,{date:j.lastMessageAt+3e3,intervalDelay:0,precision:1,renderer:function(e){return e.seconds+e.milliseconds>0?Object(K.jsxs)("button",{className:"sendMsgB",children:[e.seconds,".",e.milliseconds/100]}):Object(K.jsx)("button",{onClick:function(){return b()},className:"sendMsgB",children:Object(K.jsx)(A.a,{src:"/img/send.svg"})})}})]}):Object(K.jsx)("h4",{children:"You have to Log In"})})]})})},X=(c(232),c(75));var Q=function(){return Object(K.jsxs)("div",{className:"LeftSide",children:[Object(K.jsx)(V,{}),Object(K.jsx)(X.a,{})]})};c(233),c(234);var $=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),c=t[0],a=t[1],s=Object(w.c)((function(e){return e.games})),r=function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/game/recentGames");case 2:t=e.sent.data,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(K.jsxs)("div",{className:"recentGamesWrapper box",children:[Object(K.jsx)("h2",{className:"recentGamesHeader",children:"Recent Plays"}),Object(K.jsxs)("div",{className:"recentGames",children:[s.map((function(e){if(("removed"===e.status||"revealed"===e.status)&&e.opponent){if(e.winner){var t=e.creator._id===e.winner._id?e.opponent:e.creator;return Object(K.jsxs)("div",{className:"recentGame",children:[Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(e.winner.publicKey),children:Object(L.a)(e.winner.publicKey)})," just ",Object(K.jsx)("span",{className:"win",children:"won"})," ",Object(K.jsx)("span",{children:2*e.amount/b.c})," SOL against ",Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(t.publicKey),children:Object(L.a)(t.publicKey)})]})}return Object(K.jsxs)("div",{className:"recentGame",children:[Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(e.creator.publicKey),children:Object(L.a)(e.creator.publicKey)})," had a ",Object(K.jsx)("span",{className:"draw",children:"draw"})," with ",Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(e.opponent.publicKey),children:Object(L.a)(e.opponent.publicKey)})]})}})),c.map((function(e){if(e.opponent){if(e.winner){var t=e.creator._id===e.winner._id?e.opponent:e.creator;return Object(K.jsxs)("div",{className:"recentGame",children:[Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(e.winner.publicKey),children:Object(L.a)(e.winner.publicKey)})," ",Object(K.jsx)("span",{className:"win",children:"won"})," ",Object(K.jsx)("span",{children:2*e.amount/b.c})," SOL against ",Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(t.publicKey),children:Object(L.a)(t.publicKey)})]})}return Object(K.jsxs)("div",{className:"recentGame",children:[Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(e.creator.publicKey),children:Object(L.a)(e.creator.publicKey)})," had a ",Object(K.jsx)("span",{className:"draw",children:"draw"})," with ",Object(K.jsx)(k.b,{className:"profileLink",to:"/u/".concat(e.opponent.publicKey),children:Object(L.a)(e.opponent.publicKey)})]})}}))]})]})};var ee=function(){return Object(K.jsx)("div",{className:"RightSide",children:Object(K.jsx)($,{})})},te=l.b.Testnet;var ce,ne=function(){var e=Object(n.useMemo)((function(){return Object(b.g)(te)}),[te]),t=Object(n.useMemo)((function(){return[Object(o.a)(),Object(u.a)(),Object(j.a)()]}),[te]),c=Object(w.b)();return window.addEventListener("load",(function(){window.solana&&window.solana.on("accountChanged",(function(){console.log("account has been changed")}))})),Object(n.useEffect)((function(){var e=Object(O.a)("/game"),t=Object(O.a)("/user"),n=Object(O.a)("/message");c({type:"LOAD_GAME_SOCKET",payload:e}),c({type:"LOAD_USER_SOCKET",payload:t}),c({type:"LOAD_MESSAGE_SOCKET",payload:n})}),[]),Object(K.jsxs)("div",{className:"App",children:[Object(K.jsx)(A.a,{className:"neoneffect",src:"/img/neoneffect.svg"}),Object(K.jsx)(A.a,{className:"neoneffect effectbottom",src:"/img/neoneffect.svg"}),Object(K.jsx)(r.a,{endpoint:e,children:Object(K.jsxs)(i.a,{wallets:t,autoConnect:!0,children:[Object(K.jsx)(d.a,{children:Object(K.jsxs)(k.a,{children:[Object(K.jsx)(p.a,{}),Object(K.jsx)(H,{}),Object(K.jsxs)("div",{className:"Body",children:[Object(K.jsx)(Q,{}),Object(K.jsxs)(B.d,{children:[Object(K.jsx)(B.b,{path:"/",element:Object(K.jsx)(B.a,{to:"/rps"})}),Object(K.jsx)(B.b,{path:"/rps",element:Object(K.jsx)(U,{})}),Object(K.jsx)(B.b,{path:"/me",element:Object(K.jsx)(J,{})}),Object(K.jsx)(B.b,{path:"/u/:publicKey",element:Object(K.jsx)(F,{})})]}),Object(K.jsx)(ee,{})]})]})}),Object(K.jsx)(m.a,{autoClose:1500})]})})]})},ae=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,249)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))},se=c(95);!function(e){e.LOAD_USER="LOAD_USER",e.UPDATE_USER_BALANCE="UPDATE_USER_BALANCE",e.UPDATE_USER_LAST_MESSAGE_AT="UPDATE_USER_LAST_MESSAGE_AT"}(ce||(ce={}));var re;!function(e){e.LOAD_GAMES="LOAD_GAMES",e.ADD_GAME="ADD_GAME",e.UPDATE_GAME="UPDATE_GAME"}(re||(re={}));var ie;!function(e){e.LOAD_ASSOCIATED_KEYPAIR="LOAD_ASSOCIATED_KEYPAIR"}(ie||(ie={}));var le;!function(e){e.LOAD_WALLET="LOAD_WALLET"}(le||(le={}));var oe;!function(e){e.LOAD_GAME_SOCKET="LOAD_GAME_SOCKET",e.LOAD_USER_SOCKET="LOAD_USER_SOCKET",e.LOAD_MESSAGE_SOCKET="LOAD_MESSAGE_SOCKET"}(oe||(oe={}));var ue={user:void 0,game:void 0,message:void 0},je=Object(se.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.LOAD_USER:return t.payload;case ce.UPDATE_USER_BALANCE:return e&&Object(_.a)(Object(_.a)({},e),{},{balance:e.balance+t.payload});case ce.UPDATE_USER_LAST_MESSAGE_AT:return e&&Object(_.a)(Object(_.a)({},e),{},{lastMessageAt:Date.now()});default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===le.LOAD_WALLET?t.payload:e},associatedKeypair:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===ie.LOAD_ASSOCIATED_KEYPAIR?t.payload:e},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.LOAD_GAMES:return t.payload;case re.ADD_GAME:return e.find((function(e){return e._id===t.payload._id}))?e:[].concat(Object(q.a)(e),[t.payload]);case re.UPDATE_GAME:return e.map((function(e){return e._id===t.payload._id?("ended"===t.payload.status&&(t.payload.status="countdown",t.payload.countDownEnd=Date.now()+3e3),t.payload):e}));default:return e}},sockets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.LOAD_GAME_SOCKET:return Object(_.a)(Object(_.a)({},e),{},{game:t.payload});case oe.LOAD_USER_SOCKET:return Object(_.a)(Object(_.a)({},e),{},{user:t.payload});case oe.LOAD_MESSAGE_SOCKET:return Object(_.a)(Object(_.a)({},e),{},{message:t.payload});default:return e}}}),de=Object(se.b)(je);s.a.render(Object(K.jsx)(n.StrictMode,{children:Object(K.jsx)(w.a,{store:de,children:Object(K.jsx)(ne,{})})}),document.getElementById("root")),ae()},28:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var n=function(e){return e.slice(0,5)+"..."+e.slice(-5)}},45:function(e,t,c){},46:function(e,t,c){},75:function(e,t,c){"use strict";c(1),c(211);var n=c(2);t.a=function(){return Object(n.jsx)("div",{className:"Socials",children:Object(n.jsxs)("div",{className:"community",children:[Object(n.jsx)("div",{className:"socialMedia",children:Object(n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://discord.gg/pZZWHsRKaJ",children:Object(n.jsx)("img",{src:"/img/discord.png"})})}),Object(n.jsx)("div",{className:"socialMedia",children:Object(n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/degen_games_sol",children:Object(n.jsx)("img",{src:"/img/twitter.png"})})}),Object(n.jsx)("div",{className:"socialMedia",children:Object(n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://magiceden.io/marketplace/degengames",children:Object(n.jsx)("img",{src:"/img/magiceden.png"})})})]})})}},89:function(e,t,c){}},[[235,1,2]]]);
//# sourceMappingURL=main.61a92302.chunk.js.map